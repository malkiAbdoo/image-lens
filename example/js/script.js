(()=>{var __webpack_modules__={392:module=>{var U;self,U=()=>(()=>{"use strict";var __webpack_modules__={607:(__unused_webpack_module,exports,__webpack_require__)=>{eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nconst lens_resize_1 = __webpack_require__(48);\r\nconst zoom_window_1 = __webpack_require__(577);\r\nclass zoomLens {\r\n    constructor(image, options = {}) {\r\n        this._lens = {};\r\n        const body = document.body;\r\n        const lens = document.createElement('div');\r\n        const originZoom = (options.originZoom || false) && !options.zoomWindow;\r\n        const background = `url(${image.src}) no-repeat`;\r\n        lens.style.position = originZoom ? 'absolute' : 'fixed';\r\n        lens.style.pointerEvents = 'none';\r\n        lens.style.zIndex = '999';\r\n        lens.classList.add(options.className || 'zoom-lens');\r\n        this._image = image;\r\n        this._lens.div = lens;\r\n        this._lens.origin = originZoom;\r\n        body.appendChild(lens);\r\n        const lensStyle = window.getComputedStyle(lens);\r\n        if (originZoom) {\r\n            options.lensWidth = 100;\r\n            options.lensHeight = 100;\r\n        }\r\n        (0, lens_resize_1.resize)(this._lens.div, this._image, options.lensWidth || options.lensHeight || null, options.lensHeight || null);\r\n        if (options.zoomWindow) {\r\n            this._lens.window = (0, zoom_window_1.createZoomWindow)(this._lens.div, this._image);\r\n            this._lens.window.style.background = background;\r\n            if (lensStyle.backgroundColor == 'rgba(0, 0, 0, 0)') {\r\n                lens.style.background = '#FFF6';\r\n            }\r\n            const windowRect = this._lens.window.getBoundingClientRect();\r\n            const lensRect = this._lens.div.getBoundingClientRect();\r\n            this._lens.zoomRatio = windowRect.width / lensRect.width;\r\n            this._lens.zoomRect = {\r\n                width: lensRect.width,\r\n                height: lensRect.height\r\n            };\r\n        }\r\n        else {\r\n            this.zoom(options.zoomRatio || 2);\r\n            lens.style.background = background;\r\n        }\r\n        this.setBgSize();\r\n        this.hide();\r\n        image.addEventListener('mousemove', e => this.updateOnMove(e));\r\n        image.addEventListener('mouseenter', () => this.show());\r\n        image.addEventListener('mouseleave', () => this.hide());\r\n        window.addEventListener('scroll', () => this.updateOnScroll());\r\n        window.addEventListener('resize', () => this.setBgSize());\r\n    }\r\n    setBgSize() {\r\n        const lens = this._lens.window ? this._lens.window : this._lens.div;\r\n        const ratio = this._lens.zoomRatio;\r\n        const bgw = this._image.width * ratio;\r\n        const bgh = this._image.height * ratio;\r\n        lens.style.backgroundSize = bgw + 'px ' + bgh + 'px';\r\n        this._lens.div.style.top = this._image.offsetTop + 'px';\r\n        this._lens.div.style.left = this._image.offsetLeft + 'px';\r\n        if (this._lens.origin) {\r\n            lens.style.width = this._image.width + 'px';\r\n            lens.style.height = this._image.height + 'px';\r\n            this.zoom(ratio);\r\n        }\r\n    }\r\n    setBgPosition(x, y) {\r\n        const lens = this._lens.window ? this._lens.window : this._lens.div;\r\n        lens.style.backgroundPosition = '-' + x + 'px -' + y + 'px';\r\n    }\r\n    updateOnScroll() {\r\n        const prevPos = this._lens.prevPosition;\r\n        if (prevPos == null)\r\n            return;\r\n        const ratio = this._lens.zoomRatio;\r\n        const zoomRect = this._lens.zoomRect;\r\n        const scrollX = window.scrollX - prevPos.sx;\r\n        const scrollY = window.scrollY - prevPos.sy;\r\n        let x = prevPos.px + scrollX;\r\n        let y = prevPos.py + scrollY;\r\n        const maxX = this._image.width - zoomRect.width;\r\n        const maxY = this._image.height - zoomRect.height;\r\n        if (x <= 0)\r\n            x = 0;\r\n        else if (x >= maxX)\r\n            x = maxX;\r\n        if (y <= 0)\r\n            y = 0;\r\n        else if (y >= maxY)\r\n            y = maxY;\r\n        this.setBgPosition(x * ratio, y * ratio);\r\n    }\r\n    updateOnMove(event) {\r\n        const origin = this._lens.origin;\r\n        const lens = this._lens.div;\r\n        const posX = event.pageX - (origin ? 0 : window.scrollX);\r\n        const posY = event.pageY - (origin ? 0 : window.scrollY);\r\n        const zoomRect = this._lens.zoomRect;\r\n        const imageRect = this._image.getBoundingClientRect();\r\n        const lensRect = lens.getBoundingClientRect();\r\n        const ratio = this._lens.zoomRatio;\r\n        let x = posX - imageRect.left - zoomRect.width / 2;\r\n        let y = posY - imageRect.top - zoomRect.height / 2;\r\n        let maxX = imageRect.width - zoomRect.width;\r\n        let maxY = imageRect.height - zoomRect.height;\r\n        if (x <= 0)\r\n            x = 0;\r\n        else if (x >= maxX)\r\n            x = maxX;\r\n        if (y <= 0)\r\n            y = 0;\r\n        else if (y >= maxY)\r\n            y = maxY;\r\n        this.setBgPosition(x * ratio, y * ratio);\r\n        maxX = imageRect.width - lensRect.width;\r\n        maxY = imageRect.height - lensRect.height;\r\n        let lensX = x + zoomRect.width / 2 - lensRect.width / 2;\r\n        let lensY = y + zoomRect.height / 2 - lensRect.height / 2;\r\n        if (lensX <= 0)\r\n            lensX = 0;\r\n        else if (lensX >= maxX)\r\n            lensX = maxX;\r\n        if (lensY <= 0)\r\n            lensY = 0;\r\n        else if (lensY >= maxY)\r\n            lensY = maxY;\r\n        this._lens.prevPosition = {\r\n            px: x,\r\n            py: y,\r\n            sx: window.scrollX,\r\n            sy: window.scrollY\r\n        };\r\n        if (!this._lens.origin) {\r\n            lens.style.left = lensX + imageRect.left + 'px';\r\n            lens.style.top = lensY + imageRect.top + 'px';\r\n        }\r\n        this.show();\r\n    }\r\n    zoom(ratio) {\r\n        if (this._lens.window)\r\n            return;\r\n        const rect = this._lens.div.getBoundingClientRect();\r\n        this._lens.zoomRatio = ratio < 1 ? 1 : ratio;\r\n        ratio = this._lens.zoomRatio;\r\n        this._lens.zoomRect = {\r\n            width: rect.width / ratio,\r\n            height: rect.height / ratio\r\n        };\r\n    }\r\n    show() {\r\n        this._lens.div.style.zIndex = '999';\r\n        if (this._lens.window)\r\n            this._lens.window.style.display = 'block';\r\n    }\r\n    hide() {\r\n        this._lens.div.style.zIndex = '-1';\r\n        if (this._lens.window)\r\n            this._lens.window.style.display = 'none';\r\n    }\r\n    remove() {\r\n        this._lens.div.remove();\r\n        if (this._lens.window)\r\n            this._lens.window.remove();\r\n    }\r\n}\r\nexports[\"default\"] = zoomLens;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxNQUFNLEVBQUUsQ0FBQztJQUNwRCxDQUFDO0NBQ0Y7QUEzS0QsOEJBMktDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9vbS1sZW5zLy4vc3JjL2luZGV4LnRzP2ZmYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGVucyB9IGZyb20gJy4vdHlwZXMnO1xyXG5pbXBvcnQgeyBJbWcsIE9wdGlvbnMgfSBmcm9tICcuL3R5cGVzJztcclxuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi9zY3JpcHRzL2xlbnMtcmVzaXplJztcclxuaW1wb3J0IHsgY3JlYXRlWm9vbVdpbmRvdyB9IGZyb20gJy4vc2NyaXB0cy96b29tLXdpbmRvdyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyB6b29tTGVucyB7XHJcbiAgcHJpdmF0ZSBfbGVuczogUGFydGlhbDxMZW5zPiA9IHt9O1xyXG4gIHByaXZhdGUgX2ltYWdlOiBJbWc7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGltYWdlOiBJbWcsIG9wdGlvbnM6IFBhcnRpYWw8T3B0aW9ucz4gPSB7fSkge1xyXG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XHJcbiAgICBjb25zdCBsZW5zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBvcmlnaW5ab29tID0gKG9wdGlvbnMub3JpZ2luWm9vbSB8fCBmYWxzZSkgJiYgIW9wdGlvbnMuem9vbVdpbmRvdztcclxuICAgIGNvbnN0IGJhY2tncm91bmQgPSBgdXJsKCR7aW1hZ2Uuc3JjfSkgbm8tcmVwZWF0YDtcclxuICAgIGxlbnMuc3R5bGUucG9zaXRpb24gPSBvcmlnaW5ab29tID8gJ2Fic29sdXRlJyA6ICdmaXhlZCc7XHJcbiAgICBsZW5zLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XHJcbiAgICBsZW5zLnN0eWxlLnpJbmRleCA9ICc5OTknO1xyXG4gICAgbGVucy5jbGFzc0xpc3QuYWRkKG9wdGlvbnMuY2xhc3NOYW1lIHx8ICd6b29tLWxlbnMnKTtcclxuXHJcbiAgICB0aGlzLl9pbWFnZSA9IGltYWdlO1xyXG4gICAgdGhpcy5fbGVucy5kaXYgPSBsZW5zO1xyXG4gICAgdGhpcy5fbGVucy5vcmlnaW4gPSBvcmlnaW5ab29tO1xyXG4gICAgYm9keS5hcHBlbmRDaGlsZChsZW5zKTtcclxuXHJcbiAgICAvLyBzdHlsaW5nXHJcbiAgICBjb25zdCBsZW5zU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShsZW5zKTtcclxuICAgIGlmIChvcmlnaW5ab29tKSB7XHJcbiAgICAgIG9wdGlvbnMubGVuc1dpZHRoID0gMTAwO1xyXG4gICAgICBvcHRpb25zLmxlbnNIZWlnaHQgPSAxMDA7XHJcbiAgICB9XHJcbiAgICByZXNpemUoXHJcbiAgICAgIHRoaXMuX2xlbnMuZGl2LFxyXG4gICAgICB0aGlzLl9pbWFnZSxcclxuICAgICAgb3B0aW9ucy5sZW5zV2lkdGggfHwgb3B0aW9ucy5sZW5zSGVpZ2h0IHx8IG51bGwsXHJcbiAgICAgIG9wdGlvbnMubGVuc0hlaWdodCB8fCBudWxsXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChvcHRpb25zLnpvb21XaW5kb3cpIHtcclxuICAgICAgdGhpcy5fbGVucy53aW5kb3cgPSBjcmVhdGVab29tV2luZG93KHRoaXMuX2xlbnMuZGl2LCB0aGlzLl9pbWFnZSk7XHJcbiAgICAgIHRoaXMuX2xlbnMud2luZG93LnN0eWxlLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xyXG4gICAgICBpZiAobGVuc1N0eWxlLmJhY2tncm91bmRDb2xvciA9PSAncmdiYSgwLCAwLCAwLCAwKScpIHtcclxuICAgICAgICBsZW5zLnN0eWxlLmJhY2tncm91bmQgPSAnI0ZGRjYnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB3aW5kb3dSZWN0ID0gdGhpcy5fbGVucy53aW5kb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNvbnN0IGxlbnNSZWN0ID0gdGhpcy5fbGVucy5kaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIHRoaXMuX2xlbnMuem9vbVJhdGlvID0gd2luZG93UmVjdC53aWR0aCAvIGxlbnNSZWN0LndpZHRoO1xyXG4gICAgICB0aGlzLl9sZW5zLnpvb21SZWN0ID0ge1xyXG4gICAgICAgIHdpZHRoOiBsZW5zUmVjdC53aWR0aCxcclxuICAgICAgICBoZWlnaHQ6IGxlbnNSZWN0LmhlaWdodFxyXG4gICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy56b29tKG9wdGlvbnMuem9vbVJhdGlvIHx8IDIpO1xyXG4gICAgICBsZW5zLnN0eWxlLmJhY2tncm91bmQgPSBiYWNrZ3JvdW5kO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRCZ1NpemUoKTtcclxuICAgIHRoaXMuaGlkZSgpO1xyXG5cclxuICAgIC8vIEV2ZW50IGxpc3RlbmVyc1xyXG4gICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgZSA9PiB0aGlzLnVwZGF0ZU9uTW92ZShlKSk7XHJcbiAgICBpbWFnZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4gdGhpcy5zaG93KCkpO1xyXG4gICAgaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHRoaXMuaGlkZSgpKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCAoKSA9PiB0aGlzLnVwZGF0ZU9uU2Nyb2xsKCkpO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHRoaXMuc2V0QmdTaXplKCkpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBzZXRCZ1NpemUoKSB7XHJcbiAgICBjb25zdCBsZW5zID0gdGhpcy5fbGVucy53aW5kb3cgPyB0aGlzLl9sZW5zLndpbmRvdyA6IHRoaXMuX2xlbnMuZGl2ITtcclxuICAgIGNvbnN0IHJhdGlvID0gdGhpcy5fbGVucy56b29tUmF0aW8hO1xyXG4gICAgY29uc3QgYmd3ID0gdGhpcy5faW1hZ2Uud2lkdGggKiByYXRpbztcclxuICAgIGNvbnN0IGJnaCA9IHRoaXMuX2ltYWdlLmhlaWdodCAqIHJhdGlvO1xyXG4gICAgbGVucy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGJndyArICdweCAnICsgYmdoICsgJ3B4JztcclxuICAgIHRoaXMuX2xlbnMuZGl2IS5zdHlsZS50b3AgPSB0aGlzLl9pbWFnZS5vZmZzZXRUb3AgKyAncHgnO1xyXG4gICAgdGhpcy5fbGVucy5kaXYhLnN0eWxlLmxlZnQgPSB0aGlzLl9pbWFnZS5vZmZzZXRMZWZ0ICsgJ3B4JztcclxuICAgIGlmICh0aGlzLl9sZW5zLm9yaWdpbikge1xyXG4gICAgICBsZW5zLnN0eWxlLndpZHRoID0gdGhpcy5faW1hZ2Uud2lkdGggKyAncHgnO1xyXG4gICAgICBsZW5zLnN0eWxlLmhlaWdodCA9IHRoaXMuX2ltYWdlLmhlaWdodCArICdweCc7XHJcbiAgICAgIHRoaXMuem9vbShyYXRpbyk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHByaXZhdGUgc2V0QmdQb3NpdGlvbih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgY29uc3QgbGVucyA9IHRoaXMuX2xlbnMud2luZG93ID8gdGhpcy5fbGVucy53aW5kb3cgOiB0aGlzLl9sZW5zLmRpdiE7XHJcbiAgICBsZW5zLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9ICctJyArIHggKyAncHggLScgKyB5ICsgJ3B4JztcclxuICB9XHJcblxyXG4gIC8vIGNoYW5nZSB0aGUgYmFja2dyb3VuZCBwb3NpdGlvbiBvbiBzY3JvbGxcclxuICBwcml2YXRlIHVwZGF0ZU9uU2Nyb2xsKCkge1xyXG4gICAgY29uc3QgcHJldlBvcyA9IHRoaXMuX2xlbnMucHJldlBvc2l0aW9uO1xyXG5cclxuICAgIGlmIChwcmV2UG9zID09IG51bGwpIHJldHVybjtcclxuICAgIGNvbnN0IHJhdGlvID0gdGhpcy5fbGVucy56b29tUmF0aW8hO1xyXG4gICAgY29uc3Qgem9vbVJlY3QgPSB0aGlzLl9sZW5zLnpvb21SZWN0ITtcclxuICAgIGNvbnN0IHNjcm9sbFggPSB3aW5kb3cuc2Nyb2xsWCAtIHByZXZQb3Muc3g7XHJcbiAgICBjb25zdCBzY3JvbGxZID0gd2luZG93LnNjcm9sbFkgLSBwcmV2UG9zLnN5O1xyXG4gICAgbGV0IHggPSBwcmV2UG9zLnB4ICsgc2Nyb2xsWDtcclxuICAgIGxldCB5ID0gcHJldlBvcy5weSArIHNjcm9sbFk7XHJcblxyXG4gICAgY29uc3QgbWF4WCA9IHRoaXMuX2ltYWdlLndpZHRoIC0gem9vbVJlY3Qud2lkdGg7XHJcbiAgICBjb25zdCBtYXhZID0gdGhpcy5faW1hZ2UuaGVpZ2h0IC0gem9vbVJlY3QuaGVpZ2h0O1xyXG4gICAgaWYgKHggPD0gMCkgeCA9IDA7XHJcbiAgICBlbHNlIGlmICh4ID49IG1heFgpIHggPSBtYXhYO1xyXG4gICAgaWYgKHkgPD0gMCkgeSA9IDA7XHJcbiAgICBlbHNlIGlmICh5ID49IG1heFkpIHkgPSBtYXhZO1xyXG5cclxuICAgIHRoaXMuc2V0QmdQb3NpdGlvbih4ICogcmF0aW8sIHkgKiByYXRpbyk7XHJcbiAgfVxyXG5cclxuICAvLyBjaGFuZ2UgdGhlIGJhY2tncm91bmQgcG9zaXRpb24gb24gbW91c2UgbW92ZVxyXG4gIHByaXZhdGUgdXBkYXRlT25Nb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XHJcbiAgICBjb25zdCBvcmlnaW4gPSB0aGlzLl9sZW5zLm9yaWdpbjtcclxuICAgIGNvbnN0IGxlbnMgPSB0aGlzLl9sZW5zLmRpdiE7XHJcbiAgICBjb25zdCBwb3NYID0gZXZlbnQucGFnZVggLSAob3JpZ2luID8gMCA6IHdpbmRvdy5zY3JvbGxYKTtcclxuICAgIGNvbnN0IHBvc1kgPSBldmVudC5wYWdlWSAtIChvcmlnaW4gPyAwIDogd2luZG93LnNjcm9sbFkpO1xyXG4gICAgY29uc3Qgem9vbVJlY3QgPSB0aGlzLl9sZW5zLnpvb21SZWN0ITtcclxuICAgIGNvbnN0IGltYWdlUmVjdCA9IHRoaXMuX2ltYWdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3QgbGVuc1JlY3QgPSBsZW5zLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgY29uc3QgcmF0aW8gPSB0aGlzLl9sZW5zLnpvb21SYXRpbyE7XHJcbiAgICBsZXQgeCA9IHBvc1ggLSBpbWFnZVJlY3QubGVmdCAtIHpvb21SZWN0LndpZHRoIC8gMjtcclxuICAgIGxldCB5ID0gcG9zWSAtIGltYWdlUmVjdC50b3AgLSB6b29tUmVjdC5oZWlnaHQgLyAyO1xyXG5cclxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBiYWNrZ3JvdW5kIHBvc2l0aW9uIGRvZXNuJ3QgZ2V0IG92ZXIgdGhlIGltYWdlXHJcbiAgICBsZXQgbWF4WCA9IGltYWdlUmVjdC53aWR0aCAtIHpvb21SZWN0LndpZHRoO1xyXG4gICAgbGV0IG1heFkgPSBpbWFnZVJlY3QuaGVpZ2h0IC0gem9vbVJlY3QuaGVpZ2h0O1xyXG4gICAgaWYgKHggPD0gMCkgeCA9IDA7XHJcbiAgICBlbHNlIGlmICh4ID49IG1heFgpIHggPSBtYXhYO1xyXG4gICAgaWYgKHkgPD0gMCkgeSA9IDA7XHJcbiAgICBlbHNlIGlmICh5ID49IG1heFkpIHkgPSBtYXhZO1xyXG5cclxuICAgIHRoaXMuc2V0QmdQb3NpdGlvbih4ICogcmF0aW8sIHkgKiByYXRpbyk7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRpbmcgdGhlIGxlbnMgcG9zaXRpb25cclxuICAgIG1heFggPSBpbWFnZVJlY3Qud2lkdGggLSBsZW5zUmVjdC53aWR0aDtcclxuICAgIG1heFkgPSBpbWFnZVJlY3QuaGVpZ2h0IC0gbGVuc1JlY3QuaGVpZ2h0O1xyXG4gICAgbGV0IGxlbnNYID0geCArIHpvb21SZWN0LndpZHRoIC8gMiAtIGxlbnNSZWN0LndpZHRoIC8gMjtcclxuICAgIGxldCBsZW5zWSA9IHkgKyB6b29tUmVjdC5oZWlnaHQgLyAyIC0gbGVuc1JlY3QuaGVpZ2h0IC8gMjtcclxuICAgIGlmIChsZW5zWCA8PSAwKSBsZW5zWCA9IDA7XHJcbiAgICBlbHNlIGlmIChsZW5zWCA+PSBtYXhYKSBsZW5zWCA9IG1heFg7XHJcbiAgICBpZiAobGVuc1kgPD0gMCkgbGVuc1kgPSAwO1xyXG4gICAgZWxzZSBpZiAobGVuc1kgPj0gbWF4WSkgbGVuc1kgPSBtYXhZO1xyXG5cclxuICAgIHRoaXMuX2xlbnMucHJldlBvc2l0aW9uID0ge1xyXG4gICAgICBweDogeCxcclxuICAgICAgcHk6IHksXHJcbiAgICAgIHN4OiB3aW5kb3cuc2Nyb2xsWCxcclxuICAgICAgc3k6IHdpbmRvdy5zY3JvbGxZXHJcbiAgICB9O1xyXG5cclxuICAgIGlmICghdGhpcy5fbGVucy5vcmlnaW4pIHtcclxuICAgICAgbGVucy5zdHlsZS5sZWZ0ID0gbGVuc1ggKyBpbWFnZVJlY3QubGVmdCArICdweCc7XHJcbiAgICAgIGxlbnMuc3R5bGUudG9wID0gbGVuc1kgKyBpbWFnZVJlY3QudG9wICsgJ3B4JztcclxuICAgIH1cclxuICAgIHRoaXMuc2hvdygpO1xyXG4gIH1cclxuICBwcml2YXRlIHpvb20ocmF0aW86IG51bWJlcikge1xyXG4gICAgaWYgKHRoaXMuX2xlbnMud2luZG93KSByZXR1cm47XHJcbiAgICBjb25zdCByZWN0ID0gdGhpcy5fbGVucy5kaXYhLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgdGhpcy5fbGVucy56b29tUmF0aW8gPSByYXRpbyA8IDEgPyAxIDogcmF0aW87XHJcbiAgICByYXRpbyA9IHRoaXMuX2xlbnMuem9vbVJhdGlvO1xyXG4gICAgdGhpcy5fbGVucy56b29tUmVjdCA9IHtcclxuICAgICAgd2lkdGg6IHJlY3Qud2lkdGggLyByYXRpbyxcclxuICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodCAvIHJhdGlvXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgc2hvdygpIHtcclxuICAgIHRoaXMuX2xlbnMuZGl2IS5zdHlsZS56SW5kZXggPSAnOTk5JztcclxuICAgIGlmICh0aGlzLl9sZW5zLndpbmRvdykgdGhpcy5fbGVucy53aW5kb3cuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgfVxyXG4gIGhpZGUoKSB7XHJcbiAgICB0aGlzLl9sZW5zLmRpdiEuc3R5bGUuekluZGV4ID0gJy0xJztcclxuICAgIGlmICh0aGlzLl9sZW5zLndpbmRvdykgdGhpcy5fbGVucy53aW5kb3cuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcbiAgcmVtb3ZlKCkge1xyXG4gICAgdGhpcy5fbGVucy5kaXYhLnJlbW92ZSgpO1xyXG4gICAgaWYgKHRoaXMuX2xlbnMud2luZG93KSB0aGlzLl9sZW5zLndpbmRvdy5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///607\n")},48:(__unused_webpack_module,exports)=>{eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.resize = void 0;\r\nfunction resize(ele, img, w, h) {\r\n    w = w || 20;\r\n    h = h || w;\r\n    const width = (w > 100 ? 100 : w) || 20;\r\n    const height = (h > 100 ? 100 : h) || w;\r\n    ele.style.width = (img.width * width) / 100 + 'px';\r\n    ele.style.height = (img.height * height) / 100 + 'px';\r\n}\r\nexports.resize = resize;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDguanMiLCJtYXBwaW5ncyI6Ijs7O0FBRUEsU0FBZ0IsTUFBTSxDQUFDLEdBQVEsRUFBRSxHQUFRLEVBQUUsQ0FBZ0IsRUFBRSxDQUFnQjtJQUMzRSxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNaLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ1gsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUN4QyxNQUFNLE1BQU0sR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3hDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO0lBQ25ELEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDO0FBQ3hELENBQUM7QUFQRCx3QkFPQyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20tbGVucy8uL3NyYy9zY3JpcHRzL2xlbnMtcmVzaXplLnRzPzJjNmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW1nLCBEaXYgfSBmcm9tICcuLi90eXBlcyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplKGVsZTogRGl2LCBpbWc6IEltZywgdzogbnVtYmVyIHwgbnVsbCwgaDogbnVtYmVyIHwgbnVsbCkge1xyXG4gIHcgPSB3IHx8IDIwO1xyXG4gIGggPSBoIHx8IHc7XHJcbiAgY29uc3Qgd2lkdGggPSAodyA+IDEwMCA/IDEwMCA6IHcpIHx8IDIwO1xyXG4gIGNvbnN0IGhlaWdodCA9IChoID4gMTAwID8gMTAwIDogaCkgfHwgdztcclxuICBlbGUuc3R5bGUud2lkdGggPSAoaW1nLndpZHRoICogd2lkdGgpIC8gMTAwICsgJ3B4JztcclxuICBlbGUuc3R5bGUuaGVpZ2h0ID0gKGltZy5oZWlnaHQgKiBoZWlnaHQpIC8gMTAwICsgJ3B4JztcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///48\n")},577:(__unused_webpack_module,exports)=>{eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.createZoomWindow = void 0;\r\nfunction createZoomWindow(lens, image) {\r\n    const zoomWindow = document.createElement('div');\r\n    const lensRect = lens.getBoundingClientRect();\r\n    zoomWindow.classList.add('zoom-window');\r\n    document.body.appendChild(zoomWindow);\r\n    zoomWindow.style.position = 'absolute';\r\n    zoomWindow.style.pointerEvents = 'none';\r\n    zoomWindow.style.aspectRatio = lensRect.width + '/' + lensRect.height;\r\n    const rect = zoomWindow.getBoundingClientRect();\r\n    if (rect.width == 0) {\r\n        zoomWindow.style.top = image.offsetTop + 'px';\r\n        zoomWindow.style.left = image.offsetLeft + image.width + 10 + 'px';\r\n        zoomWindow.style.width = image.width / 2 + 'px';\r\n    }\r\n    return zoomWindow;\r\n}\r\nexports.createZoomWindow = createZoomWindow;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTc3LmpzIiwibWFwcGluZ3MiOiI7OztBQUVBLFNBQWdCLGdCQUFnQixDQUFDLElBQW9CLEVBQUUsS0FBVTtJQUMvRCxNQUFNLFVBQVUsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pELE1BQU0sUUFBUSxHQUFHLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFDO0lBQzlDLFVBQVUsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQ3hDLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ3RDLFVBQVUsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQztJQUN2QyxVQUFVLENBQUMsS0FBSyxDQUFDLGFBQWEsR0FBRyxNQUFNLENBQUM7SUFDeEMsVUFBVSxDQUFDLEtBQUssQ0FBQyxXQUFXLEdBQUcsUUFBUSxDQUFDLEtBQUssR0FBRyxHQUFHLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQztJQUV0RSxNQUFNLElBQUksR0FBRyxVQUFVLENBQUMscUJBQXFCLEVBQUUsQ0FBQztJQUNoRCxJQUFJLElBQUksQ0FBQyxLQUFLLElBQUksQ0FBQyxFQUFFO1FBQ25CLFVBQVUsQ0FBQyxLQUFLLENBQUMsR0FBRyxHQUFHLEtBQUssQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDO1FBQzlDLFVBQVUsQ0FBQyxLQUFLLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDLEtBQUssR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDO1FBQ25FLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQyxLQUFLLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQztLQUNqRDtJQUVELE9BQU8sVUFBVSxDQUFDO0FBQ3BCLENBQUM7QUFqQkQsNENBaUJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9vbS1sZW5zLy4vc3JjL3NjcmlwdHMvem9vbS13aW5kb3cudHM/ZTEyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbWcgfSBmcm9tICcuLi90eXBlcyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlWm9vbVdpbmRvdyhsZW5zOiBIVE1MRGl2RWxlbWVudCwgaW1hZ2U6IEltZykge1xyXG4gIGNvbnN0IHpvb21XaW5kb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICBjb25zdCBsZW5zUmVjdCA9IGxlbnMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgem9vbVdpbmRvdy5jbGFzc0xpc3QuYWRkKCd6b29tLXdpbmRvdycpO1xyXG4gIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoem9vbVdpbmRvdyk7XHJcbiAgem9vbVdpbmRvdy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgem9vbVdpbmRvdy5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xyXG4gIHpvb21XaW5kb3cuc3R5bGUuYXNwZWN0UmF0aW8gPSBsZW5zUmVjdC53aWR0aCArICcvJyArIGxlbnNSZWN0LmhlaWdodDtcclxuXHJcbiAgY29uc3QgcmVjdCA9IHpvb21XaW5kb3cuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgaWYgKHJlY3Qud2lkdGggPT0gMCkge1xyXG4gICAgem9vbVdpbmRvdy5zdHlsZS50b3AgPSBpbWFnZS5vZmZzZXRUb3AgKyAncHgnO1xyXG4gICAgem9vbVdpbmRvdy5zdHlsZS5sZWZ0ID0gaW1hZ2Uub2Zmc2V0TGVmdCArIGltYWdlLndpZHRoICsgMTAgKyAncHgnO1xyXG4gICAgem9vbVdpbmRvdy5zdHlsZS53aWR0aCA9IGltYWdlLndpZHRoIC8gMiArICdweCc7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gem9vbVdpbmRvdztcclxufVxyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///577\n")}},__webpack_module_cache__={};function __nested_webpack_require_31232__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var B=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](B,B.exports,__nested_webpack_require_31232__),B.exports}var __webpack_exports__=__nested_webpack_require_31232__(607);return __webpack_exports__})(),module.exports=U()}},__webpack_module_cache__={};function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var B=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q](B,B.exports,__webpack_require__),B.exports}__webpack_require__.n=Q=>{var U=Q&&Q.__esModule?()=>Q.default:()=>Q;return __webpack_require__.d(U,{a:U}),U},__webpack_require__.d=(Q,U)=>{for(var B in U)__webpack_require__.o(U,B)&&!__webpack_require__.o(Q,B)&&Object.defineProperty(Q,B,{enumerable:!0,get:U[B]})},__webpack_require__.o=(Q,U)=>Object.prototype.hasOwnProperty.call(Q,U);var __webpack_exports__={};(()=>{"use strict";var Q=__webpack_require__(392),U=__webpack_require__.n(Q);const B=document.getElementById("example"),F=document.getElementById("ratio"),s=document.getElementById("width"),x=document.getElementById("height"),l=document.querySelectorAll(".options-container label");let n,L=2,e=25,c=25,t={o:!1,w:!1},g="zoom-lens";function y(){n&&n.remove(),n=new(U())(B,{zoomRatio:L,lensWidth:e,lensHeight:c,originZoom:t.o,zoomWindow:t.w,className:g})}F.value=L,s.value=e,x.value=c,y(),l.forEach((Q=>{Q.addEventListener("click",(()=>{t={o:!1,w:!1};let U=document.getElementById(Q.htmlFor).value;t[U]=!0,B.style.margin="w"===U?"0":"0 auto",g="l"!==U?"lens":"zoom-lens",y()}))})),F.addEventListener("input",(()=>{let Q=F.value;L=Q>100?100:!Q||Q<1?1:Q,t.w||y()})),[s,x].forEach((Q=>{Q.addEventListener("input",(()=>{let U=Q.value;U>100?U=100:(!U||U<0)&&(U=0),Q===s?e=U:c=U,t.o||y()}))}))})()})();